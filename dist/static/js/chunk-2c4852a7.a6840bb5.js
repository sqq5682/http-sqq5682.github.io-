(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c4852a7"],{"17c2d":function(e,o,t){"use strict";var l=t("3de5"),a=t.n(l);a.a},"20ee":function(e,o,t){},"3de5":function(e,o,t){},"6a43":function(e,o,t){"use strict";var l=t("a5ce"),a=t.n(l);a.a},a5ce:function(e,o,t){},a87a:function(e,o,t){"use strict";t.r(o);var l=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"app-container"},[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ruleForm",staticClass:"goodsShortInput",attrs:{disabled:e.goodsDisabled,model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[t("el-form-item",{staticClass:"goodsLongInput",attrs:{label:"商品名称",prop:"goodsName",placeholder:"请填写商品名称"}},[t("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.goodsName,callback:function(o){e.$set(e.ruleForm,"goodsName",o)},expression:"ruleForm.goodsName"}})],1),t("el-form-item",{attrs:{label:"商品类别",prop:"goodsClassify"}},[t("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.ruleForm.goodsClassify,callback:function(o){e.$set(e.ruleForm,"goodsClassify",o)},expression:"ruleForm.goodsClassify"}},e._l(e.classifyOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"商品品牌",prop:"goodsBrand"}},[t("el-select",{attrs:{placeholder:"请选择品牌"},model:{value:e.ruleForm.goodsBrand,callback:function(o){e.$set(e.ruleForm,"goodsBrand",o)},expression:"ruleForm.goodsBrand"}},e._l(e.goodsBrand,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"成本价",prop:"goodsPrice",placeholder:"请填写商品成本价"}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.goodsPrice,callback:function(o){e.$set(e.ruleForm,"goodsPrice",o)},expression:"ruleForm.goodsPrice"}}),e._v(" 元 ")],1),t("el-form-item",{attrs:{label:"销售价",prop:"goodsSalePrice",placeholder:"请填写商品销售价"}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.goodsSalePrice,callback:function(o){e.$set(e.ruleForm,"goodsSalePrice",o)},expression:"ruleForm.goodsSalePrice"}}),e._v(" 元 ")],1),t("el-form-item",{attrs:{label:"库存",prop:"goodsStock",placeholder:"请填写商品库存"}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.goodsStock,callback:function(o){e.$set(e.ruleForm,"goodsStock",o)},expression:"ruleForm.goodsStock"}})],1),t("el-form-item",{attrs:{label:"限购状态",prop:"goodsLimit",placeholder:"请选择限购状态"}},[t("el-select",{attrs:{placeholder:"请选择限购状态"},model:{value:e.ruleForm.goodsLimit,callback:function(o){e.$set(e.ruleForm,"goodsLimit",o)},expression:"ruleForm.goodsLimit"}},e._l(e.goodsLimitOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"上架状态",prop:"goodsSaleStatus",placeholder:"请填写上架状态"}},[t("el-select",{attrs:{placeholder:"请填写上架状态"},model:{value:e.ruleForm.goodsSaleStatus,callback:function(o){e.$set(e.ruleForm,"goodsSaleStatus",o)},expression:"ruleForm.goodsSaleStatus"}},e._l(e.goodsSaleStatusOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"商品主图",prop:"goodsMainImg",placeholder:"请上传商品主图"}},[t("uploadImg",{on:{getUploadImg:e.getUploadMainImg}})],1),t("el-form-item",{attrs:{label:"商品展示图",prop:"goodsShowImg",placeholder:"请上传商品展示图"}},[t("uploadImg",{on:{getUploadImg:e.getUploadShowImg}})],1),t("el-form-item",{attrs:{label:"内容",prop:"goodsContent",placeholder:"请填写内容"}},[t("quill-editor")],1),t("el-form-item",[t("span",{staticClass:"elBack",on:{click:e.onCancel}},[e._v("返回")]),e.goodsDisabled?e._e():t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.onSubmit}},[e._v("提交")])],1)],1)],1)},a=[],r=(t("b0c0"),t("c40e")),i=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("el-upload",{attrs:{action:"https://jsonplaceholder.typicode.com/posts/","list-type":"picture-card","on-preview":e.handlePictureCardPreview,"file-list":e.imageList,multiple:e.isMultiple,limit:e.imgLimtCount,"show-file-list":e.showFileList,accept:e.acceptImage,"on-success":e.imgUploadSuccess,"on-remove":e.imgRemove}},[t("i",{staticClass:"el-icon-plus"})]),t("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(o){e.dialogVisible=o}}},[t("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},s=[],n=(t("a434"),t("a9e3"),{data:function(){return{dialogVisible:!1,dialogImageUrl:"",acceptImage:"image/jpg,image/jpeg,image/gif,image/png,image/bmp"}},props:{imgLimtCount:{type:Number,default:1},isMultiple:{type:Boolean,default:!1},showFileList:{type:Boolean,default:!0},imageList:{type:Array,default:function(){return[]}}},methods:{handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},imgUploadSuccess:function(e,o){this.imageList.push({url:o.url}),this.$emit("getUploadImg",this.imageList)},imgRemove:function(){this.imageList.splice(0,1)}}}),u=n,d=t("2877"),g=Object(d["a"])(u,i,s,!1,null,"8e053ada",null),c=g.exports,m=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"edit_container",staticStyle:{width:"100%",height:"100%"}},[t("quill-editor",{ref:"myQuillEditor",attrs:{options:e.editorOption},on:{blur:function(o){return e.onEditorBlur(o)},change:function(o){return e.onEditorChange(o)}},model:{value:e.content,callback:function(o){e.content=o},expression:"content"}}),t("uploadImg",{ref:"uploadFileImage",staticStyle:{display:"none",width:"0",height:"0",cursor:"pointer"},attrs:{id:e.idImage,showFileList:!1},on:{getUploadImg:e.getUploadImg}})],1)},p=[],f=t("953d"),b=(t("a753"),t("8096"),t("14e1"),{data:function(){var e=this;return{content:"",idImage:"uoloadImg",editorOption:{placeholder:"请输入文本",theme:"snow",acceptImage:"image/jpg,image/jpeg,image/gif,image/png,image/bmp",goodsShowImg:"",modules:{toolbar:{container:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}],["clean"],["link"],["image"]],handlers:{image:function(o){document.querySelector("#".concat(e.idImage," input")).click()}}}}}}},components:{quillEditor:f["quillEditor"],uploadImg:c},methods:{onEditorBlur:function(e){console.log(e)},onEditorChange:function(e){console.log(e.html)},getUploadImg:function(e){console.log(e)}}}),h=b,v=(t("cfed"),Object(d["a"])(h,m,p,!1,null,null,null)),I=v.exports,S={data:function(){return{loading:!1,ruleForm:{goodsName:"",goodsClassify:"",goodsBrand:"",goodsMainImg:[],goodsShowImg:[],goodsContent:"",goodsLimit:"",goodsPayPrice:"",goodsSaleStatus:""},rules:{goodsName:[{required:!0,message:"请填写商品标题",trigger:"blur"}],goodsClassify:[{required:!0,message:"请选择分类",trigger:"blur"}],goodsBrand:[{required:!0,message:"请选择品牌",trigger:"blur"}],goodsMainImg:[{required:!0,message:"请上传主图",trigger:"change"}],goodsShowImg:[{required:!0,message:"请上传展示图",trigger:"change"}],goodsSalePrice:[{required:!0,message:"请填写商品成本价",trigger:"blur"}],goodsPrice:[{required:!0,message:"请填写商品销售价",trigger:"blur"}],goodsStock:[{required:!0,message:"请填写商品库存",trigger:"blur"}],goodsContent:[{required:!1,message:"请填写商品内容",trigger:"blur"}],goodsLimit:[{required:!1,message:"请填写限购状态",trigger:"change"}],goodsSaleStatus:[{required:!0,message:"请选择上架状态",trigger:"change"}]},classifyOptions:[{value:"0",label:"黄金糕"},{value:"1",label:"双皮奶"}],goodsLimitOptions:[{value:"1",label:"限购"},{value:"0",label:"不限购"}],goodsChangeOptions:[{value:"1",label:"退还中"},{value:"0",label:"无退还"},{value:"2",label:"退还完成"}],goodsSaleStatusOptions:[{value:"1",label:"上架"},{value:"0",label:"下架"}],goodsBrand:[{value:"选项3",label:"苹果"},{value:"选项4",label:"安卓"},{value:"选项5",label:"win"}]}},components:{uploadImg:c,quillEditor:I},computed:{goodsDisabled:function(){return"detail"==this.$route.query.goodsManage}},mounted:function(){"edit"!=this.$route.query.goodsManage&&"detail"!=this.$route.query.goodsManage||this.getGoodsDetail()},methods:{onSubmit:function(){var e=this;this.$refs.ruleForm.validate((function(o){if(!o)return console.log("error submit!!"),!1;e.loading=!0,e.$notify({title:"成功",message:"发布文章成功",type:"success",duration:2e3}),e.handleUpdata(),console.log(e.ruleForm),e.loading=!1}))},onCancel:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.back()},getUploadMainImg:function(e){this.ruleForm.goodsMainImg=e},getUploadShowImg:function(e){this.ruleForm.goodsShowImg=e},getGoodsDetail:function(){var e=this;Object(r["a"])({goodsId:this.$route.query.goodsId}).then((function(o){e.ruleForm.goodsName=o.data.name,e.ruleForm.goodsClassify=e.classifyOptions[0].label,e.goodsMainImg.push({url:o.data.image_uri}),e.goodsShowImg.push({url:o.data.image_uri})}))},handleUpdata:function(){Object(r["c"])({goodsId:this.$route.query.goodsId}).then((function(e){console.log(e)}))}}},y=S,F=(t("6a43"),t("17c2d"),Object(d["a"])(y,l,a,!1,null,"04889b18",null));o["default"]=F.exports},c40e:function(e,o,t){"use strict";t.d(o,"b",(function(){return n})),t.d(o,"a",(function(){return u})),t.d(o,"c",(function(){return d}));var l=t("b775"),a=t("da71"),r=a.goodsListU,i=a.goodsDetailU,s=a.updataGoodsU;a.addGoodsU;function n(e){return Object(l["a"])({url:r,method:"get",params:e})}function u(e){return Object(l["a"])({url:i,method:"get",params:e})}function d(e){return Object(l["a"])({url:s,method:"post",params:e})}},cfed:function(e,o,t){"use strict";var l=t("20ee"),a=t.n(l);a.a}}]);