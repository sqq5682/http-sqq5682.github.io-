(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59095ab8"],{"20ee":function(e,o,t){},"6a43":function(e,o,t){"use strict";var l=t("a5ce"),a=t.n(l);a.a},"91a2":function(e,o,t){},"9c40":function(e,o,t){"use strict";var l=t("91a2"),a=t.n(l);a.a},a5ce:function(e,o,t){},a87a:function(e,o,t){"use strict";t.r(o);var l=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"app-container"},[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ruleForm",staticClass:"goodsShortInput",attrs:{disabled:e.goodsDisabled,model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[t("el-form-item",{staticClass:"goodsLongInput",attrs:{label:"商品名称",prop:"goodsName",placeholder:"请填写商品名称"}},[t("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.goodsName,callback:function(o){e.$set(e.ruleForm,"goodsName",o)},expression:"ruleForm.goodsName"}})],1),t("el-form-item",{staticClass:"goodsLongInput",attrs:{label:"商品副标题",prop:"goodsName",placeholder:"请填写商品副标题"}},[t("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.goodsSeName,callback:function(o){e.$set(e.ruleForm,"goodsSeName",o)},expression:"ruleForm.goodsSeName"}})],1),t("el-form-item",{attrs:{label:"商品类型",prop:"goodsClassify"}},[t("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.ruleForm.goodsClassify,callback:function(o){e.$set(e.ruleForm,"goodsClassify",o)},expression:"ruleForm.goodsClassify"}},e._l(e.classifyOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"成本价",prop:"goodsPrice",placeholder:"请填写商品成本价"}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.goodsPrice,callback:function(o){e.$set(e.ruleForm,"goodsPrice",o)},expression:"ruleForm.goodsPrice"}}),e._v(" 元 ")],1),t("el-form-item",{attrs:{label:"销售价",prop:"goodsSalePrice",placeholder:"请填写商品销售价"}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.goodsSalePrice,callback:function(o){e.$set(e.ruleForm,"goodsSalePrice",o)},expression:"ruleForm.goodsSalePrice"}}),e._v(" 元 ")],1),t("el-form-item",{attrs:{label:"库存",prop:"goodsStock",placeholder:"请填写商品库存"}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.goodsStock,callback:function(o){e.$set(e.ruleForm,"goodsStock",o)},expression:"ruleForm.goodsStock"}})],1),t("el-form-item",{attrs:{label:"上架状态",prop:"goodsSaleStatus",placeholder:"请填写商品状态"}},[t("el-select",{attrs:{placeholder:"请填写商品状态"},model:{value:e.ruleForm.goodsSaleStatus,callback:function(o){e.$set(e.ruleForm,"goodsSaleStatus",o)},expression:"ruleForm.goodsSaleStatus"}},e._l(e.goodsSaleStatusOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"商品主图",prop:"goodsMainImg",placeholder:"请上传商品主图"}},[t("uploadImg",{on:{getUploadImg:e.getUploadMainImg}})],1),t("el-form-item",{attrs:{label:"商品展示图",prop:"goodsShowImg",placeholder:"请上传商品展示图"}},[t("uploadImg",{attrs:{imgLimtCount:5,isMultiple:!0},on:{getUploadImg:e.getUploadShowImg}})],1),t("el-form-item",{attrs:{label:"内容",prop:"goodsContent",placeholder:"请填写内容"}},[t("quill-editor")],1),t("el-form-item",[t("span",{staticClass:"elBack",on:{click:e.onCancel}},[e._v("返回")]),e.goodsDisabled?e._e():t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.onSubmit}},[e._v("提交")])],1)],1)],1)},a=[],i=(t("b0c0"),t("c40e")),r=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("el-upload",{attrs:{action:"https://jsonplaceholder.typicode.com/posts/","list-type":"picture-card","on-preview":e.handlePictureCardPreview,"file-list":e.imageList,multiple:e.isMultiple,name:"file",limit:e.imgLimtCount,"show-file-list":e.showFileList,accept:e.acceptImage,"on-success":e.imgUploadSuccess,"before-upload":e.beforeUpload,"on-remove":e.imgRemove}},[t("i",{staticClass:"el-icon-plus"})]),t("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(o){e.dialogVisible=o}}},[t("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},s=[],n=(t("a434"),t("a9e3"),{data:function(){return{dialogVisible:!1,dialogImageUrl:"",acceptImage:"image/jpg,image/jpeg,image/gif,image/png,image/bmp"}},props:{imgLimtCount:{type:Number,default:1},isMultiple:{type:Boolean,default:!1},showFileList:{type:Boolean,default:!0},imageList:{type:Array,default:function(){return[]}}},methods:{beforeUpload:function(e){console.log(e)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},imgUploadSuccess:function(e,o){this.imageList.push({url:o.url}),this.$emit("getUploadImg",this.imageList)},imgRemove:function(){this.imageList.splice(0,1)}}}),u=n,d=t("2877"),g=Object(d["a"])(u,r,s,!1,null,"6408ad6a",null),c=g.exports,m=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"edit_container",staticStyle:{width:"100%",height:"100%"}},[t("quill-editor",{ref:"myQuillEditor",attrs:{options:e.editorOption},on:{blur:function(o){return e.onEditorBlur(o)},change:function(o){return e.onEditorChange(o)}},model:{value:e.content,callback:function(o){e.content=o},expression:"content"}}),t("uploadImg",{ref:"uploadFileImage",staticStyle:{display:"none",width:"0",height:"0",cursor:"pointer"},attrs:{id:e.idImage,showFileList:!1},on:{getUploadImg:e.getUploadImg}})],1)},p=[],f=t("953d"),h=(t("a753"),t("8096"),t("14e1"),{data:function(){var e=this;return{content:"",idImage:"uoloadImg",editorOption:{placeholder:"请输入文本",theme:"snow",acceptImage:"image/jpg,image/jpeg,image/gif,image/png,image/bmp",goodsShowImg:"",modules:{toolbar:{container:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}],["clean"],["link"],["image"]],handlers:{image:function(o){document.querySelector("#".concat(e.idImage," input")).click()}}}}}}},components:{quillEditor:f["quillEditor"],uploadImg:c},methods:{onEditorBlur:function(e){console.log(e)},onEditorChange:function(e){console.log(e.html)},getUploadImg:function(e){console.log(e)}}}),b=h,S=(t("cfed"),Object(d["a"])(b,m,p,!1,null,null,null)),v=S.exports,I={data:function(){return{loading:!1,ruleForm:{goodsName:"",goodsSeName:"",goodsClassify:"",goodsMainImg:[],goodsShowImg:[],goodsContent:"",goodsStock:100,goodsLimit:"",goodsPayPrice:"",goodsSaleStatus:""},rules:{goodsName:[{required:!0,message:"请填写商品标题",trigger:"blur"}],goodsSeName:[{required:!0,message:"请填写商品副标题",trigger:"blur"}],goodsClassify:[{required:!0,message:"请选择分类",trigger:"blur"}],goodsMainImg:[{required:!0,message:"请上传主图",trigger:"change"}],goodsShowImg:[{required:!0,message:"请上传展示图",trigger:"change"}],goodsSalePrice:[{required:!0,message:"请填写商品成本价",trigger:"blur"}],goodsPrice:[{required:!0,message:"请填写商品销售价",trigger:"blur"}],goodsStock:[{required:!0,message:"请填写商品库存",trigger:"blur"}],goodsContent:[{required:!1,message:"请填写商品内容",trigger:"blur"}],goodsSaleStatus:[{required:!0,message:"请选择商品状态",trigger:"change"}]},classifyOptions:[{value:"0",label:"黄金糕"},{value:"1",label:"双皮奶"}],goodsLimitOptions:[{value:"1",label:"限购"},{value:"0",label:"不限购"}],goodsSaleStatusOptions:[{value:"1",label:"在售"},{value:"0",label:"下架"}]}},components:{uploadImg:c,quillEditor:v},created:function(){"add"==this.$route.query.goodsManage&&(this.ruleForm.goodsSaleStatus=this.goodsSaleStatusOptions[0].label,this.ruleForm.goodsSaleStatus="")},computed:{goodsDisabled:function(){return"detail"==this.$route.query.goodsManage}},mounted:function(){"edit"!=this.$route.query.goodsManage&&"detail"!=this.$route.query.goodsManage||this.getGoodsDetail()},methods:{onSubmit:function(){var e=this;this.$refs.ruleForm.validate((function(o){if(!o)return console.log("error submit!!"),!1;e.loading=!0,e.$notify({title:"成功",message:"发布文章成功",type:"success",duration:2e3}),e.handleUpdata(),console.log(e.ruleForm),e.loading=!1}))},onCancel:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.back()},getUploadMainImg:function(e){this.ruleForm.goodsMainImg=e},getUploadShowImg:function(e){this.ruleForm.goodsShowImg=e},getGoodsDetail:function(){var e=this;Object(i["b"])({goodsId:this.$route.query.goodsId}).then((function(o){e.ruleForm.goodsName=o.data.name,e.ruleForm.goodsClassify=e.classifyOptions[0].label,e.goodsMainImg.push({url:o.data.image_uri}),e.goodsShowImg.push({url:o.data.image_uri})}))},handleUpdata:function(){Object(i["d"])({goodsId:this.$route.query.goodsId}).then((function(e){console.log(e)}))}}},y=I,F=(t("6a43"),t("9c40"),Object(d["a"])(y,l,a,!1,null,"7795790a",null));o["default"]=F.exports},c40e:function(e,o,t){"use strict";t.d(o,"c",(function(){return u})),t.d(o,"b",(function(){return d})),t.d(o,"d",(function(){return g})),t.d(o,"a",(function(){return c}));var l=t("b775"),a=t("da71"),i=a.goodsListU,r=a.goodsDetailU,s=a.updataGoodsU,n=(a.addGoodsU,a.delGoodsU);function u(e){return Object(l["a"])({url:i,method:"get",params:e})}function d(e){return Object(l["a"])({url:r,method:"get",params:e})}function g(e){return Object(l["a"])({url:s,method:"post",data:e})}function c(e){return Object(l["a"])({url:n,method:"post",data:e})}},cfed:function(e,o,t){"use strict";var l=t("20ee"),a=t.n(l);a.a}}]);