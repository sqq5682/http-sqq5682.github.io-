(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bdcb23a"],{"6a43":function(e,o,l){"use strict";var t=l("a5ce"),s=l.n(t);s.a},a5ce:function(e,o,l){},a87a:function(e,o,l){"use strict";l.r(o);var t=function(){var e=this,o=e.$createElement,l=e._self._c||o;return l("div",{staticClass:"app-container"},[l("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ruleForm",staticClass:"goodsShortInput",attrs:{disabled:e.goodsDisabled,model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[l("el-form-item",{staticClass:"goodsLongInput",attrs:{label:"商品名称",prop:"goodsName",placeholder:"请填写商品名称"}},[l("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.goodsName,callback:function(o){e.$set(e.ruleForm,"goodsName",o)},expression:"ruleForm.goodsName"}})],1),l("el-form-item",{attrs:{label:"商品类别",prop:"goodsClassify"}},[l("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.ruleForm.goodsClassify,callback:function(o){e.$set(e.ruleForm,"goodsClassify",o)},expression:"ruleForm.goodsClassify"}},e._l(e.classifyOptions,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),l("el-form-item",{attrs:{label:"商品品牌",prop:"goodsBrand"}},[l("el-select",{attrs:{placeholder:"请选择品牌"},model:{value:e.ruleForm.goodsBrand,callback:function(o){e.$set(e.ruleForm,"goodsBrand",o)},expression:"ruleForm.goodsBrand"}},e._l(e.goodsBrand,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),l("el-form-item",{attrs:{label:"成本价",prop:"goodsPrice",placeholder:"请填写商品成本价"}},[l("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.goodsPrice,callback:function(o){e.$set(e.ruleForm,"goodsPrice",o)},expression:"ruleForm.goodsPrice"}}),e._v(" 元 ")],1),l("el-form-item",{attrs:{label:"销售价",prop:"goodsSalePrice",placeholder:"请填写商品销售价"}},[l("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.goodsSalePrice,callback:function(o){e.$set(e.ruleForm,"goodsSalePrice",o)},expression:"ruleForm.goodsSalePrice"}}),e._v(" 元 ")],1),l("el-form-item",{attrs:{label:"库存",prop:"goodsStock",placeholder:"请填写商品库存"}},[l("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.goodsStock,callback:function(o){e.$set(e.ruleForm,"goodsStock",o)},expression:"ruleForm.goodsStock"}})],1),l("el-form-item",{attrs:{label:"限购状态",prop:"goodsLimit",placeholder:"请选择限购状态"}},[l("el-select",{attrs:{placeholder:"请选择限购状态"},model:{value:e.ruleForm.goodsLimit,callback:function(o){e.$set(e.ruleForm,"goodsLimit",o)},expression:"ruleForm.goodsLimit"}},e._l(e.goodsLimitOptions,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),l("el-form-item",{attrs:{label:"上架状态",prop:"goodsSaleStatus",placeholder:"请填写上架状态"}},[l("el-select",{attrs:{placeholder:"请填写上架状态"},model:{value:e.ruleForm.goodsSaleStatus,callback:function(o){e.$set(e.ruleForm,"goodsSaleStatus",o)},expression:"ruleForm.goodsSaleStatus"}},e._l(e.goodsSaleStatusOptions,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),l("el-form-item",{attrs:{label:"商品主图",prop:"goodsMainImg",placeholder:"请上传商品主图"}},[l("el-upload",{class:e.mainImgLimt,attrs:{action:"https://jsonplaceholder.typicode.com/posts/","list-type":"picture-card","on-preview":e.handlePictureCardPreview,"file-list":e.goodsMainImg,multiple:!1,limit:e.mainImgLimtCount,"on-success":e.mainImgSuccess,"on-remove":e.mainImgRemove}},[l("i",{staticClass:"el-icon-plus"})])],1),l("el-form-item",{attrs:{label:"商品展示图",prop:"goodsShowImg",placeholder:"请上传商品展示图"}},[[l("el-upload",{class:e.showImgLimt,attrs:{action:"https://jsonplaceholder.typicode.com/posts/","list-type":"picture-card","on-preview":e.handlePictureCardPreview,"file-list":e.goodsShowImg,multiple:!0,limit:e.showImgLimtCount,"on-success":e.showImgSuccess,"on-remove":e.showImgRemove}},[l("i",{staticClass:"el-icon-plus"})]),l("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(o){e.dialogVisible=o}}},[l("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])]],2),l("el-form-item",{attrs:{label:"内容",prop:"goodsContent",placeholder:"请填写内容"}},[l("div",{staticStyle:{height:"410px"}},[l("quill-editor",{ref:"myQuillEditor",staticStyle:{height:"300px"},model:{value:e.ruleForm.goodsContent,callback:function(o){e.$set(e.ruleForm,"goodsContent",o)},expression:"ruleForm.goodsContent"}})],1)]),l("el-form-item",[l("span",{staticClass:"elBack",on:{click:e.onCancel}},[e._v("返回")]),e.goodsDisabled?e._e():l("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.onSubmit}},[e._v("提交")])],1)],1),l("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(o){e.dialogVisible=o}}},[l("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},s=[],a=(l("a434"),l("b0c0"),l("953d")),r=l("c40e"),i=(l("a753"),l("8096"),l("14e1"),{data:function(){return{dialogImageUrl:"",loading:!1,dialogVisible:!1,goodsMainImg:[],goodsShowImg:[],mainImgLimtCount:1,showImgLimtCount:5,ruleForm:{goodsName:"",goodsClassify:"",goodsBrand:"",goodsMainImg:[],goodsShowImg:[],goodsContent:"",goodsLimit:"",goodsPayPrice:"",goodsSaleStatus:""},rules:{goodsName:[{required:!0,message:"请填写商品标题",trigger:"blur"}],goodsClassify:[{required:!0,message:"请选择分类",trigger:"blur"}],goodsBrand:[{required:!0,message:"请选择品牌",trigger:"blur"}],goodsMainImg:[{required:!0,message:"请上传主图",trigger:"change"}],goodsShowImg:[{required:!0,message:"请上传展示图",trigger:"change"}],goodsSalePrice:[{required:!0,message:"请填写商品成本价",trigger:"blur"}],goodsPrice:[{required:!0,message:"请填写商品销售价",trigger:"blur"}],goodsStock:[{required:!0,message:"请填写商品库存",trigger:"blur"}],goodsContent:[{required:!1,message:"请填写商品内容",trigger:"blur"}],goodsLimit:[{required:!1,message:"请填写限购状态",trigger:"change"}],goodsSaleStatus:[{required:!0,message:"请选择上架状态",trigger:"change"}]},classifyOptions:[{value:"0",label:"黄金糕"},{value:"1",label:"双皮奶"}],goodsLimitOptions:[{value:"1",label:"限购"},{value:"0",label:"不限购"}],goodsChangeOptions:[{value:"1",label:"退还中"},{value:"0",label:"无退还"},{value:"2",label:"退还完成"}],goodsSaleStatusOptions:[{value:"1",label:"上架"},{value:"0",label:"下架"}],goodsBrand:[{value:"选项3",label:"苹果"},{value:"选项4",label:"安卓"},{value:"选项5",label:"win"}]}},components:{quillEditor:a["quillEditor"]},computed:{mainImgLimt:function(){return this.ruleForm.goodsMainImg.length>=1?"imgDisabled":""},showImgLimt:function(){return this.ruleForm.goodsShowImg.length>=5?"imgDisabled":""},goodsDisabled:function(){return"detail"==this.$route.query.goodsManage}},mounted:function(){"edit"!=this.$route.query.goodsManage&&"detail"!=this.$route.query.goodsManage||this.getGoodsDetail()},methods:{onSubmit:function(){var e=this;this.$refs.ruleForm.validate((function(o){if(!o)return console.log("error submit!!"),!1;e.loading=!0,e.$notify({title:"成功",message:"发布文章成功",type:"success",duration:2e3}),e.handleUpdata(),console.log(e.ruleForm),e.loading=!1}))},onCancel:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.back()},mainImgRemove:function(){this.ruleForm.goodsMainImg.splice(0,1)},mainImgSuccess:function(e,o){this.ruleForm.goodsMainImg.push({url:o.url})},showImgSuccess:function(e,o){this.ruleForm.goodsShowImg.push({url:o.url})},showImgRemove:function(e,o){console.log(e,o)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},getGoodsDetail:function(){var e=this;Object(r["a"])({goodsId:this.$route.query.goodsId}).then((function(o){e.ruleForm.goodsName=o.data.name,e.ruleForm.goodsClassify=e.classifyOptions[0].label,e.goodsMainImg.push({url:o.data.image_uri}),e.goodsShowImg.push({url:o.data.image_uri})}))},handleUpdata:function(){Object(r["c"])({goodsId:this.$route.query.goodsId}).then((function(e){console.log(e)}))}}}),n=i,u=(l("6a43"),l("ceb8"),l("2877")),d=Object(u["a"])(n,t,s,!1,null,"6bfc41cb",null);o["default"]=d.exports},c40e:function(e,o,l){"use strict";l.d(o,"b",(function(){return n})),l.d(o,"a",(function(){return u})),l.d(o,"c",(function(){return d}));var t=l("b775"),s=l("da71"),a=s.goodsListU,r=s.goodsDetailU,i=s.updataGoodsU;s.addGoodsU;function n(e){return Object(t["a"])({url:a,method:"get",params:e})}function u(e){return Object(t["a"])({url:r,method:"get",params:e})}function d(e){return Object(t["a"])({url:i,method:"post",params:e})}},ceb8:function(e,o,l){"use strict";var t=l("d6d3"),s=l.n(t);s.a},d6d3:function(e,o,l){}}]);